<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <configSections>
    <section name="loggingConfiguration" type="Microsoft.Practices.EnterpriseLibrary.Logging.Configuration.LoggingSettings, Microsoft.Practices.EnterpriseLibrary.Logging, Version=6.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" requirePermission="true" />
  </configSections>
  <loggingConfiguration name="" tracingEnabled="true" defaultCategory="General">
    <listeners>
      <add name="FileTrace" 
           type="Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.RollingFlatFileTraceListener, Microsoft.Practices.EnterpriseLibrary.Logging, Version=6.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" 
           listenerDataType="Microsoft.Practices.EnterpriseLibrary.Logging.Configuration.RollingFlatFileTraceListenerData, Microsoft.Practices.EnterpriseLibrary.Logging, Version=6.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" 
           fileName="C:\Aplicativos_Navita\Log\Navita.NGN.APP\DEBUG.log" 
           formatter="Default" 
           rollInterval="Day" 
           rollSizeKB="10000" 
           header="" 
           footer="" />
    </listeners>
    <formatters>
      <add type="Microsoft.Practices.EnterpriseLibrary.Logging.Formatters.TextFormatter, Microsoft.Practices.EnterpriseLibrary.Logging, Version=6.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" 
           template="{timestamp(local)} - {win32ThreadId} - {category} - {message}" 
           name="Default" />
    </formatters>
    <logFilters>
      <add type="Microsoft.Practices.EnterpriseLibrary.Logging.Filters.CategoryFilter, Microsoft.Practices.EnterpriseLibrary.Logging, Version=6.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" 
           categoryFilterMode="AllowAllExceptDenied" 
           name="Category Filter">
        <categoryFilters>
          <!--<add name="General" />-->
        </categoryFilters>
      </add>
    </logFilters>
    <categorySources>
      <add switchValue="All" name="General" />
    </categorySources>
    <specialSources>
      <allEvents switchValue="All" name="All Events">
        <listeners>
          <add name="FileTrace" />
        </listeners>
      </allEvents>
      <notProcessed switchValue="All" name="Unprocessed Category" />
      <errors switchValue="All" name="Logging Errors and Warnings">
        <listeners>
        </listeners>
      </errors>
    </specialSources>
  </loggingConfiguration>
  <connectionStrings>
    <add name="stringConexao" connectionString="<%= @conn_string %>"/>
  </connectionStrings>
  <appSettings>
    <add key="Navita.Hosting.ApplicationName" value="Navita.NGN.ApplicationService" />
    <add key="ClientSettingsProvider.ConnectionStringName" value="DefaultConnection" />
    <add key="Authenticate.TokenExpirationTime" value="60"/>
    <!--Minutos-->
    <add key="Authenticate.SecuritykeyEncryption" value="F31239D2-D49A-43BE-96B0-30ED81BF39B5"/>
    <add key="Email.SenderName" value="NavitaTEM"/>
    <add key="Email.SenderEmail" value="navitatem@navita.com.br"/>    
  </appSettings>
  <system.serviceModel>
    <bindings>
      <webHttpBinding>
        <binding name="WebHttpBinding_Default" closeTimeout="00:59:00" openTimeout="00:02:00" receiveTimeout="00:10:00" sendTimeout="00:59:00" allowCookies="false" bypassProxyOnLocal="false" hostNameComparisonMode="StrongWildcard" maxBufferSize="2147483647" maxBufferPoolSize="2147483647" maxReceivedMessageSize="2147483647" transferMode="Buffered" useDefaultWebProxy="true">
          <readerQuotas maxDepth="2147483647" maxStringContentLength="2147483647" maxArrayLength="2147483647" maxBytesPerRead="2147483647" maxNameTableCharCount="2147483647" />
  		  <security mode="None">
            <transport clientCredentialType="None" proxyCredentialType="None" realm="" />
          </security>	  

        </binding>
      </webHttpBinding>
	  <netTcpBinding>
        <binding>
          <security mode="None" />
        </binding>
      </netTcpBinding>
    </bindings>
    <services>
      <service name="Navita.NGN.ApplicationService.UserService">
        <endpoint address="" binding="webHttpBinding" bindingConfiguration="" behaviorConfiguration="web" contract="Navita.NGN.ApplicationModel.IUser" />
        <endpoint address="mex" binding="mexHttpBinding" contract="IMetadataExchange" />
        <endpoint address="" binding="netTcpBinding" bindingConfiguration="" contract="Navita.NGN.ApplicationModel.IUser" />
        <endpoint address="mex" binding="mexTcpBinding" bindingConfiguration="" contract="IMetadataExchange" />
        <host>
          <baseAddresses>
            <add baseAddress="net.tcp://<%= @ip %>:31001/User" />
            <add baseAddress="http://<%= @ip %>:30001/User" />
          </baseAddresses>
        </host>
      </service>
      <service name="Navita.NGN.ApplicationService.ReportManagerService">
        <endpoint address="" binding="webHttpBinding" bindingConfiguration="" behaviorConfiguration="web" contract="Navita.NGN.ApplicationModel.IReportManager" />
        <endpoint address="mex" binding="mexHttpBinding" contract="IMetadataExchange" />
        <endpoint address="" binding="netTcpBinding" bindingConfiguration="" contract="Navita.NGN.ApplicationModel.IReportManager" />
        <endpoint address="mex" binding="mexTcpBinding" bindingConfiguration="" contract="IMetadataExchange" />
        <host>
          <baseAddresses>
            <add baseAddress="net.tcp://<%= @ip %>:31001/ReportManager" />
            <add baseAddress="http://<%= @ip %>:30001/ReportManager" />
          </baseAddresses>
        </host>
      </service>
      <service name="Navita.NGN.ApplicationService.UsersDashService">
        <endpoint address="" binding="webHttpBinding" bindingConfiguration="" behaviorConfiguration="web" contract="Navita.NGN.ApplicationModel.IUsersDash" />
        <endpoint address="mex" binding="mexHttpBinding" contract="IMetadataExchange" />
        <endpoint address="" binding="netTcpBinding" bindingConfiguration="" contract="Navita.NGN.ApplicationModel.IUsersDash" />
        <endpoint address="mex" binding="mexTcpBinding" bindingConfiguration="" contract="IMetadataExchange" />
        <host>
          <baseAddresses>
            <add baseAddress="net.tcp://<%= @ip %>:31001/UsersDash" />
            <add baseAddress="http://<%= @ip %>:30001/UsersDash" />
          </baseAddresses>
        </host>
      </service>
      <service name="Navita.NGN.ApplicationService.InvoiceService">
        <endpoint address="" binding="webHttpBinding" bindingConfiguration="" behaviorConfiguration="web" contract="Navita.NGN.ApplicationModel.IInvoice" />
        <endpoint address="mex" binding="mexHttpBinding" contract="IMetadataExchange" />
        <endpoint address="" binding="netTcpBinding" bindingConfiguration="" contract="Navita.NGN.ApplicationModel.IInvoice" />
        <endpoint address="mex" binding="mexTcpBinding" bindingConfiguration="" contract="IMetadataExchange" />
        <host>
          <baseAddresses>
            <add baseAddress="net.tcp://<%= @ip %>:31001/Invoice" />
            <add baseAddress="http://<%= @ip %>:30001/Invoice" />
          </baseAddresses>
        </host>
      </service>
      <service name="Navita.NGN.ApplicationService.ReportUsageService">
        <endpoint address="" binding="webHttpBinding" bindingConfiguration="" behaviorConfiguration="web" contract="Navita.NGN.ApplicationModel.IReportUsage" />
        <endpoint address="mex" binding="mexHttpBinding" contract="IMetadataExchange" />
        <endpoint address="" binding="netTcpBinding" bindingConfiguration="" contract="Navita.NGN.ApplicationModel.IReportUsage" />
        <endpoint address="mex" binding="mexTcpBinding" bindingConfiguration="" contract="IMetadataExchange" />
        <host>
          <baseAddresses>
            <add baseAddress="net.tcp://<%= @ip %>:31001/ReportUsage" />
            <add baseAddress="http://<%= @ip %>:30001/ReportUsage" />
          </baseAddresses>
        </host>
      </service>
      <service name="Navita.NGN.ApplicationService.AdminDashService">
        <endpoint address="" binding="webHttpBinding" bindingConfiguration="" behaviorConfiguration="web" contract="Navita.NGN.ApplicationModel.IAdminDash" />
        <endpoint address="mex" binding="mexHttpBinding" contract="IMetadataExchange" />
        <endpoint address="" binding="netTcpBinding" bindingConfiguration="" contract="Navita.NGN.ApplicationModel.IAdminDash" />
        <endpoint address="mex" binding="mexTcpBinding" bindingConfiguration="" contract="IMetadataExchange" />
        <host>
          <baseAddresses>
            <add baseAddress="net.tcp://<%= @ip %>:31001/AdminDash" />
            <add baseAddress="http://<%= @ip %>:30001/AdminDash" />
          </baseAddresses>
        </host>
      </service>    
      <service name="Navita.NGN.ApplicationService.ReportInteractiveService">
        <endpoint address="" binding="webHttpBinding" bindingConfiguration="" behaviorConfiguration="web" contract="Navita.NGN.ApplicationModel.IReportInteractive" />
        <endpoint address="mex" binding="mexHttpBinding" contract="IMetadataExchange" />
        <endpoint address="" binding="netTcpBinding" bindingConfiguration="" contract="Navita.NGN.ApplicationModel.IReportInteractive" />
        <endpoint address="mex" binding="mexTcpBinding" bindingConfiguration="" contract="IMetadataExchange" />
        <host>
          <baseAddresses>
            <add baseAddress="net.tcp://<%= @ip %>:31001/ReportInteractive" />
            <add baseAddress="http://<%= @ip %>:30001/ReportInteractive" />
          </baseAddresses>
        </host>
      </service>
      <service name="Navita.NGN.ApplicationService.BranchService">
        <endpoint address="" binding="webHttpBinding" bindingConfiguration="" behaviorConfiguration="web" contract="Navita.NGN.ApplicationModel.IBranch" />
        <endpoint address="mex" binding="mexHttpBinding" contract="IMetadataExchange" />
        <endpoint address="" binding="netTcpBinding" bindingConfiguration="" contract="Navita.NGN.ApplicationModel.IBranch" />
        <endpoint address="mex" binding="mexTcpBinding" bindingConfiguration="" contract="IMetadataExchange" />
        <host>
          <baseAddresses>
            <add baseAddress="net.tcp://<%= @ip %>:31001/Branch" />
            <add baseAddress="http://<%= @ip %>:30001/Branch" />
          </baseAddresses>
        </host>
      </service>
      <service name="Navita.NGN.ApplicationService.ConfigurationService">
        <endpoint address="" binding="webHttpBinding" bindingConfiguration="" behaviorConfiguration="web" contract="Navita.NGN.ApplicationModel.IConfiguration" />
        <endpoint address="mex" binding="mexHttpBinding" contract="IMetadataExchange" />
        <endpoint address="" binding="netTcpBinding" bindingConfiguration="" contract="Navita.NGN.ApplicationModel.IConfiguration" />
        <endpoint address="mex" binding="mexTcpBinding" bindingConfiguration="" contract="IMetadataExchange" />
        <host>
          <baseAddresses>
            <add baseAddress="net.tcp://<%= @ip %>:31001/Configuration" />
            <add baseAddress="http://<%= @ip %>:30001/Configuration" />
          </baseAddresses>
        </host>
      </service>
      <service name="Navita.NGN.ApplicationService.ReportInventoryService">
        <endpoint address="" binding="webHttpBinding" bindingConfiguration="" behaviorConfiguration="web" contract="Navita.NGN.ApplicationModel.IReportInventory" />
        <endpoint address="mex" binding="mexHttpBinding" contract="IMetadataExchange" />
        <endpoint address="" binding="netTcpBinding" bindingConfiguration="" contract="Navita.NGN.ApplicationModel.IReportInventory" />
        <endpoint address="mex" binding="mexTcpBinding" bindingConfiguration="" contract="IMetadataExchange" />
        <host>
          <baseAddresses>
            <add baseAddress="net.tcp://<%= @ip %>:31001/ReportInventory" />
            <add baseAddress="http://<%= @ip %>:30001/ReportInventory" />
          </baseAddresses>
        </host>
      </service>
    </services>
    <behaviors>
      <serviceBehaviors>
        <behavior name="">
          <serviceMetadata httpGetEnabled="true" httpsGetEnabled="true" />
          <serviceDebug includeExceptionDetailInFaults="true" />
        </behavior>
      </serviceBehaviors>
      <endpointBehaviors>
        <behavior name="web">
          <webHttp />
        </behavior>
      </endpointBehaviors>
    </behaviors>
    <serviceHostingEnvironment aspNetCompatibilityEnabled="true"/>
  </system.serviceModel>
  <system.webServer>
    <modules runAllManagedModulesForAllRequests="true" />
    <directoryBrowse enabled="false" />
  </system.webServer>
  <system.web>
	<membership defaultProvider="ClientAuthenticationMembershipProvider">
      <providers>
        <add name="ClientAuthenticationMembershipProvider" type="System.Web.ClientServices.Providers.ClientWindowsAuthenticationMembershipProvider, System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" serviceUri="" connectionStringName="DefaultConnection" credentialsProvider="" />
      </providers>
    </membership>
    <roleManager defaultProvider="ClientRoleProvider" enabled="true">
      <providers>
        <add name="ClientRoleProvider" type="System.Web.ClientServices.Providers.ClientRoleProvider, System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" serviceUri="" cacheTimeout="86400" connectionStringName="DefaultConnection" />
      </providers>
    </roleManager>
  </system.web>
  <system.net>
    <mailSettings>
      <smtp from="navitatem@navita.com.br">
        <network host="mail.navita.com.br" port="25"/>
      </smtp>
    </mailSettings>
  </system.net>
  <startup>
    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.5" />
  </startup>
</configuration>
